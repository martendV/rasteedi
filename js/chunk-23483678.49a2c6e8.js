(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-23483678"],{"1dde":function(e,t,r){var n=r("d039"),c=r("b622"),o=r("2d00"),a=c("species");e.exports=function(e){return o>=51||!n((function(){var t=[],r=t.constructor={};return r[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var n=r("861d"),c=r("e8b5"),o=r("b622"),a=o("species");e.exports=function(e,t){var r;return c(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?n(r)&&(r=r[a],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},8418:function(e,t,r){"use strict";var n=r("c04e"),c=r("9bf2"),o=r("5c6c");e.exports=function(e,t,r){var a=n(t);a in e?c.f(e,a,o(0,r)):e[a]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),c=r("d039"),o=r("e8b5"),a=r("861d"),u=r("7b0b"),l=r("50c4"),d=r("8418"),s=r("65f0"),i=r("1dde"),p=r("b622"),b=r("2d00"),g=p("isConcatSpreadable"),f=9007199254740991,v="Maximum allowed index exceeded",x=b>=51||!c((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),m=i("concat"),j=function(e){if(!a(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},O=!x||!m;n({target:"Array",proto:!0,forced:O},{concat:function(e){var t,r,n,c,o,a=u(this),i=s(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?a:arguments[t],j(o)){if(c=l(o.length),p+c>f)throw TypeError(v);for(r=0;r<c;r++,p++)r in o&&d(i,p,o[r])}else{if(p>=f)throw TypeError(v);d(i,p++,o)}return i.length=p,i}})},b671:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c={class:"flex flex-col space-y-4"},o={key:0,class:"flex flex-col space-y-8"},a={key:0,class:"\r\n          relative\r\n          py-3\r\n          pl-4\r\n          pr-10\r\n          leading-normal\r\n          text-yellow-700\r\n          bg-yellow-100\r\n          rounded-lg\r\n          mt-5\r\n          text-base\r\n        ",role:"alert"},u=Object(n["g"])("p",null,[Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"\r\n              h-6\r\n              w-6\r\n              animate-ping\r\n              inline-flex\r\n              rounded-full\r\n              bg-green-500\r\n              opacity-90\r\n              mr-2\r\n            ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(n["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),Object(n["f"])("Suche Barcode... ")],-1),l={id:"code-scanner",class:""},d=Object(n["g"])("video",{class:"w-60 mb-10"},null,-1),s=Object(n["g"])("canvas",{class:"drawingBuffer absolute left-0 top-0"},null,-1),i={class:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2"},p={class:"flex flex-col space-y-1"},b=Object(n["g"])("label",{class:"text-white text-sm",for:"productCode"},"Produkt-Code",-1),g=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"object-contain w-10 md:w-8 mx-auto md:mx-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(n["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"})],-1),f=Object(n["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"object-contain w-10 md:w-8 mx-auto md:mx-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(n["g"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1),v={class:"flex space-x-2 justify-end mt-20"},x={key:1,class:"flex flex-col space-y-4"},m={class:"flex flex-col space-y-1"},j=Object(n["g"])("label",{class:"text-white text-sm",for:"productCode"},"Produkt-Code",-1),O={class:"flex flex-col space-y-1"},h=Object(n["g"])("label",{class:"text-white text-sm",for:"productName"},"Produktname",-1),y={class:"flex flex-col space-y-1"},w=Object(n["g"])("label",{class:"text-white text-sm",for:"productGram"},"Einheit in Gramm?",-1),k={class:"flex flex-col space-y-1"},C={key:0,class:"text-white text-sm",for:"productPrice"},P={key:1,class:"text-white text-sm",for:"productPrice"},M={class:"flex flex-col space-y-1"},_={key:0,class:"text-white text-sm",for:"productAmount"},A={key:1,class:"text-white text-sm",for:"productAmount"},z={class:"flex flex-col space-y-1"},S=Object(n["g"])("label",{class:"text-white text-sm",for:"productMhd"},"MHD",-1),E={class:"flex space-x-2"},V={key:2,class:"flex flex-col justify-center space-y-2"},N={class:"text-white text-center"};function R(e,t,r,R,G,I){var D=Object(n["u"])("steps");return Object(n["p"])(),Object(n["d"])("div",c,[Object(n["g"])(D,{steps:e.steps,step:e.step},null,8,["steps","step"]),1==e.step?(Object(n["p"])(),Object(n["d"])("div",o,[e.quagging&&!e.codeFound?(Object(n["p"])(),Object(n["d"])("div",a,[u])):Object(n["e"])("",!0),Object(n["C"])(Object(n["g"])("div",l,[d,s],512),[[n["A"],e.quagging]]),Object(n["g"])("div",i,[Object(n["g"])("div",p,[b,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.productCode=t}),name:"productCode",placeholder:"Produkt-Code",class:"\r\n              rounded-3xl\r\n              border border-gray-500\r\n              focus:outline-none focus:ring focus:ring-green-500\r\n              px-2\r\n              py-1\r\n            ",type:"text"},null,512),[[n["z"],e.productCode]])]),Object(n["g"])("button",{class:"rounded bg-green-500 hover:bg-green-600 text-white py-1 px-2",onClick:t[2]||(t[2]=function(t){return e.startScanning()})},[g]),e.quagging&&!e.codeFound?(Object(n["p"])(),Object(n["d"])("button",{key:0,class:"rounded bg-red-400 hover:bg-red-600 text-white py-2 px-3",onClick:t[3]||(t[3]=function(t){return e.stopScanning()})},[f])):Object(n["e"])("",!0)]),Object(n["g"])("div",v,[Object(n["g"])("button",{disabled:""==e.productCode,class:"\r\n            rounded\r\n            bg-green-500\r\n            hover:bg-green-600\r\n            py-2\r\n            px-3\r\n            disabled:opacity-50\r\n            text-white\r\n          ",onClick:t[4]||(t[4]=function(t){return e.nextStep()})}," Weiter ",8,["disabled"])])])):Object(n["e"])("",!0),2==e.step?(Object(n["p"])(),Object(n["d"])("div",x,[Object(n["g"])("div",m,[j,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.productCode=t}),disabled:"",name:"productCode",placeholder:"Produkt-Code",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-50\r\n            text-white\r\n          ",type:"text"},null,512),[[n["z"],e.productCode]])]),Object(n["g"])("div",O,[h,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.productName=t}),name:"productName",placeholder:"Produktname",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-80\r\n          ",type:"text"},null,512),[[n["z"],e.productName]])]),Object(n["g"])("div",y,[w,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.productGram=t}),name:"productGram",type:"checkbox",placeholder:"Produktname",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-80\r\n          "},null,512),[[n["y"],e.productGram]])]),Object(n["g"])("div",k,[e.productGram?(Object(n["p"])(),Object(n["d"])("label",C,"Preis pro 100g")):(Object(n["p"])(),Object(n["d"])("label",P,"Preis")),Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.productPrice=t}),name:"productPrice",placeholder:e.productGram?"Preis pro 100g":"Preis",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-80\r\n          ",type:"number"},null,8,["placeholder"]),[[n["z"],e.productPrice]])]),Object(n["g"])("div",M,[e.productGram?(Object(n["p"])(),Object(n["d"])("label",_,"Menge in g")):(Object(n["p"])(),Object(n["d"])("label",A,"Anzahl")),Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.productAmount=t}),name:"productAmount",placeholder:e.productGram?"Menge in g":"Anzahl",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-80\r\n          ",type:"number"},null,8,["placeholder"]),[[n["z"],e.productAmount]])]),Object(n["g"])("div",z,[S,Object(n["C"])(Object(n["g"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.productMhd=t}),name:"productMhd",placeholder:"MHD",class:"\r\n            rounded-3xl\r\n            border border-gray-500\r\n            focus:outline-none focus:ring focus:ring-green-500\r\n            px-2\r\n            py-1\r\n            disabled:opacity-80\r\n          ",type:"date"},null,512),[[n["z"],e.productMhd]])]),Object(n["g"])("div",E,[Object(n["g"])("button",{class:"rounded bg-gray-500 hover:bg-gray-600 py-2 px-3 text-white",onClick:t[11]||(t[11]=function(t){return e.previousStep()})}," Zur端ck "),Object(n["g"])("button",{disabled:e.missingValues||e.fetching,class:"\r\n            rounded\r\n            bg-green-500\r\n            hover:bg-green-600\r\n            py-2\r\n            px-3\r\n            disabled:opacity-75\r\n            text-white\r\n          ",onClick:t[12]||(t[12]=function(t){return e.addProduct()})},Object(n["w"])(""!==e.inventoryItemFoundId?"Aktualisieren":"Hinzuf端gen"),9,["disabled"])])])):Object(n["e"])("",!0),e.step==e.steps+1?(Object(n["p"])(),Object(n["d"])("div",V,[Object(n["g"])("div",N,Object(n["w"])(""!==e.inventoryItemFoundId?"".concat(e.productName," erfolgreich aktualisiert!"):"Produkt(e) erfolgreich hinzugef端gt!"),1),Object(n["g"])("button",{class:"rounded bg-green-500 hover:bg-green-600 py-2 px-3 text-white",onClick:t[13]||(t[13]=function(t){return e.newProduct()})}," Neue(s) Produkt(e) hinzuf端gen ")])):Object(n["e"])("",!0)])}var G=r("1da1"),I=(r("96cf"),r("99af"),{class:""}),D=Object(n["g"])("div",{class:"bg-gray-400 h-1"},null,-1),U={class:"flex"};function B(e,t,r,c,o,a){return Object(n["p"])(),Object(n["d"])("div",I,[D,Object(n["g"])("div",U,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["t"])(r.steps,(function(e){return Object(n["p"])(),Object(n["d"])("div",{key:e,class:"flex-1"},[r.step>=e?(Object(n["p"])(),Object(n["d"])("div",{key:0,class:["bg-green-500 -mt-1 h-1",{"w-1/2":r.step==e,"w-full":r.step<e}]},null,2)):Object(n["e"])("",!0),Object(n["g"])("div",{class:["-mt-3 mx-auto rounded-full h-5 w-5",{"bg-green-500":e<=r.step,"bg-gray-400":r.step!=e}]},null,2)])})),128))])])}var T={props:["steps","step"]};T.render=B;var q=T,F=r("be2c"),H=r.n(F),W=r("e00f"),L=Object(n["h"])({name:"Wareneingang",components:{Steps:q},setup:function(){var e=Object(n["s"])(1),t=Object(n["s"])(2),r=Object(n["s"])(""),c=Object(n["s"])(""),o=Object(n["s"])(!1),a=Object(n["s"])(0),u=Object(n["s"])(0),l=Object(n["s"])(new Date),d=Object(n["s"])(!1),s=Object(n["s"])(!1),i=Object(n["s"])(!1),p=Object(n["s"])(""),b=Object(n["b"])((function(){return""!==p.value?!u.value||!l.value:!c.value||!a.value||!u.value||!l.value})),g=function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(){var n,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,new W["b"]("".concat(W["a"].SEARCH_ITEM,"?filter[product_code][_eq]=").concat(r.value)).get().execute();case 2:n=t.sent,1===n.data.length&&(d=n.data[0],p.value=d.id,u.value=d.amount,c.value=d.product_name,o.value=d.is_gram,a.value=d.price_tag,l.value=d.good_till),e.value+=1;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){e.value=e.value>1?e.value-1:e.value},v=function(){s.value=!0,H.a.init({locate:!0,frequency:5,numOfWorkers:2,locator:{halfSample:!0,patchSize:"medium"},inputStream:{name:"Live",type:"LiveStream",target:document.getElementById("code-scanner")||void 0},decoder:{readers:["ean_reader"]}},(function(e){if(e)throw new Error(e);H.a.start()}))},x=function(){s.value=!1,H.a.stop()};H.a.onProcessed((function(e){e&&e.codeResult&&e.codeResult.code&&(d.value=!0)})),H.a.onDetected((function(e){r.value=e.codeResult.code?e.codeResult.code:"",s.value=!1,H.a.stop()}));var m=function(){e.value=1,r.value="",c.value="",u.value=0,o.value=!1,a.value=0,l.value=new Date,p.value=""},j=function(){var t=Object(G["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.value=!0,""!==p.value){t.next=17;break}return t.prev=2,t.next=5,new W["b"](W["a"].ADD_NEW_INVENTORY_ENTRY).post().body({product_code:r.value,product_name:c.value,amount:u.value,is_gram:o.value,price_tag:a.value,good_till:l.value}).execute();case 5:e.value+=1,t.next=12;break;case 8:throw t.prev=8,t.t0=t["catch"](2),m(),new Error(t.t0);case 12:return t.prev=12,i.value=!1,t.finish(12);case 15:t.next=21;break;case 17:return t.next=19,new W["b"]("".concat(W["a"].UPDATE_ITEM,"/").concat(p.value)).patch().body({product_name:c.value,amount:u.value,is_gram:o.value,price_tag:a.value,good_till:l.value}).execute().catch((function(e){throw m(),new Error(e)}));case 19:e.value+=1,i.value=!1;case 21:case"end":return t.stop()}}),t,null,[[2,8,12,15]])})));return function(){return t.apply(this,arguments)}}();return{startScanning:v,stopScanning:x,productCode:r,productName:c,productGram:o,productPrice:a,productAmount:u,productMhd:l,quagging:s,codeFound:d,step:e,steps:t,nextStep:g,previousStep:f,missingValues:b,addProduct:j,newProduct:m,fetching:i,inventoryItemFoundId:p}}});L.render=R;t["default"]=L},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-23483678.49a2c6e8.js.map